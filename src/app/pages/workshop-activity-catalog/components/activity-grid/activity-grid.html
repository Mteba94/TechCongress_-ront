<div class="p-6 bg-gray-100 min-h-screen">
      <!-- Grid de Actividades -->
      @if (_loading() && _activities().length === 0) {
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          @for (item of [1, 2, 3, 4, 5, 6]; track $index) {
            <div class="bg-card border border-border rounded-lg shadow-subtle animate-pulse">
              <div class="h-48 bg-muted rounded-t-lg"></div>
              <div class="p-4 space-y-3">
                <div class="h-4 bg-muted rounded w-3/4"></div>
                <div class="h-3 bg-muted rounded w-full"></div>
                <div class="h-3 bg-muted rounded w-2/3"></div>
                <div class="space-y-2">
                  <div class="h-3 bg-muted rounded w-1/2"></div>
                  <div class="h-3 bg-muted rounded w-1/3"></div>
                </div>
                <div class="h-8 bg-muted rounded"></div>
              </div>
            </div>
          }
        </div>
      } @else if (_activities().length === 0) {
        <div class="text-center py-12">
          <lucide-icon [img]="icons.search" [size]="64" class="text-muted-foreground mx-auto mb-4"></lucide-icon>
          <h3 class="text-lg font-heading font-semibold text-foreground mb-2">
            No se encontraron actividades
          </h3>
          <p class="text-muted-foreground mb-4">
            Intenta ajustar tus filtros de búsqueda o explora otras categorías
          </p>
        </div>
      } @else {
        <div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            @for (activity of _activities(); track activity.id) {
              <app-activity-card
                [activityInput]="activity"
                [userEnrollmentsInput]="_userEnrollments()"
                (onEnroll)="handleEnroll(activity)"
                (onViewDetails)="handleViewDetails(activity)"
              ></app-activity-card>
            }
          </div>

          <!-- Botón de Cargar más -->
          @if (_hasMore()) {
            <div class="text-center mt-8">
              <button
                (click)="handleLoadMore()"
                [disabled]="_loading()"
                class="inline-flex items-center space-x-2 px-6 py-3 bg-card border border-border rounded-lg text-foreground hover:bg-muted transition-colors duration-200 disabled:opacity-50 cursor-pointer"
              >
                @if (_loading()) {
                  <div class="w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"></div>
                  <span>Cargando...</span>
                } @else {
                  <lucide-icon [img]="icons.chevronDown" [size]="16"></lucide-icon>
                  <span>Cargar más actividades</span>
                }
              </button>
            </div>
          }

          <!-- Esqueleto de Cargar más -->
          @if (_loading() && _activities().length > 0) {
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
              @for (item of [1, 2, 3]; track $index) {
                <div class="bg-card border border-border rounded-lg shadow-subtle animate-pulse">
                  <div class="h-48 bg-muted rounded-t-lg"></div>
                  <div class="p-4 space-y-3">
                    <div class="h-4 bg-muted rounded w-3/4"></div>
                    <div class="h-3 bg-muted rounded w-full"></div>
                    <div class="h-3 bg-muted rounded w-2/3"></div>
                    <div class="space-y-2">
                      <div class="h-3 bg-muted rounded w-1/2"></div>
                      <div class="h-3 bg-muted rounded w-1/3"></div>
                    </div>
                    <div class="h-8 bg-muted rounded"></div>
                  </div>
                </div>
              }
            </div>
          }
        </div>
      }
    </div>