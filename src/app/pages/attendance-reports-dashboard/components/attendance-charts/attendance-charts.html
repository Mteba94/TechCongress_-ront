<div class="bg-card border border-border rounded-lg shadow-subtle">
      <div class="p-6 border-b border-border">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0">
          <h3 class="text-lg font-heading font-semibold text-foreground">
            Análisis de Asistencia
          </h3>
          
          <div class="flex items-center space-x-2 bg-muted rounded-lg p-1">
            @for (tab of chartTabs; track tab.id) {
              <button
                (click)="setActiveChart(tab.id)"
                [ngClass]="{
                  'bg-card text-foreground shadow-subtle': activeChart() === tab.id,
                  'text-muted-foreground hover:text-foreground': activeChart() !== tab.id
                }"
                class="flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-body font-medium transition-colors duration-200"
              >
                <lucide-icon [img]="tab.icon" [size]="16"></lucide-icon>
                <span class="hidden sm:inline">{{tab.label}}</span>
              </button>
            }
          </div>
        </div>
      </div>
      
      <div class="p-6">
        @if (chartsData()) {
          @if (activeChart() === 'activity') {
            <div class="chart-container" style="height: 400px;">
              <canvas #activityChartCanvas></canvas>
            </div>
          }
          @if (activeChart() === 'hourly') {
            <div class="chart-container" style="height: 400px;">
              <canvas #hourlyChartCanvas></canvas>
            </div>
          }
          @if (activeChart() === 'demographics') {
            <div class="chart-container" style="height: 400px;">
              <canvas #demographicsChartCanvas></canvas>
            </div>
          }
        } @else {
          <div class="h-64 bg-muted rounded-lg flex items-center justify-center text-muted-foreground">
            No hay datos de gráficos disponibles.
          </div>
        }
      </div>
    </div>